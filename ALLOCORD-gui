local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local ProfilePicture = Instance.new("ImageLabel")
local UsernameLabel = Instance.new("TextLabel")
local CloseButton = Instance.new("TextButton")
local AllocordTitle = Instance.new("TextLabel")
local WelcomeBanner = Instance.new("Frame") -- The sliding banner
local OpenButton = Instance.new("TextButton") -- The draggable button to open the GUI

-- Create the ScreenGui and add it to the player's PlayerGui
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create the Frame and add it to the ScreenGui
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
Frame.Position = UDim2.new(0.5, -400, 0.5, -150)
Frame.Size = UDim2.new(0, 700, 0, 400)
Frame.AnchorPoint = Vector2.new(0.5, 0.5) -- Set anchor point to center for scaling

-- Create the AllocordTitle and add it to the Frame
AllocordTitle.Parent = Frame
AllocordTitle.BackgroundTransparency = 1
AllocordTitle.Position = UDim2.new(0.5, -100, 0, 0)
AllocordTitle.Size = UDim2.new(0, 200, 0, 50)
AllocordTitle.Font = Enum.Font.SourceSansBold
AllocordTitle.Text = "ALLOCORD"
AllocordTitle.TextColor3 = Color3.new(1, 1, 1)
AllocordTitle.TextScaled = true

-- Create the Title and add it to the Frame
Title.Parent = Frame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 0, 0, 75)
Title.Size = UDim2.new(1, 0, 0, 20)
Title.Font = Enum.Font.SourceSans
Title.Text = "Welcome"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.TextScaled = true

-- Create the ProfilePicture and add it to the Frame
ProfilePicture.Parent = Frame
ProfilePicture.BackgroundTransparency = 1
ProfilePicture.Position = UDim2.new(0, 0, 1, 0)
ProfilePicture.Size = UDim2.new(0, 50, 0, 50)
ProfilePicture.Image = "rbxassetid://0" -- Replace with your profile picture asset ID
ProfilePicture.Visible = false -- Set ProfilePicture to be invisible

-- Create the UsernameLabel and add it to the Frame
UsernameLabel.Parent = Frame
UsernameLabel.BackgroundTransparency = 1
UsernameLabel.Position = UDim2.new(0, 0, 0, 125)
UsernameLabel.Size = UDim2.new(0, 100, 0, 20)
UsernameLabel.Font = Enum.Font.SourceSans
UsernameLabel.Text = game.Players.LocalPlayer.Name
UsernameLabel.TextColor3 = Color3.new(1, 1, 1)
UsernameLabel.TextScaled = true
UsernameLabel.Visible = false -- Set UsernameLabel to be invisible

-- Create the CloseButton and add it to the Frame
CloseButton.Parent = Frame
CloseButton.Position = UDim2.new(1, -50, 0, 0)
CloseButton.Size = UDim2.new(0, 50, 0, 50)
CloseButton.Text = "Close"
CloseButton.TextColor3 = Color3.new(1, 1, 1)
CloseButton.TextScaled = true
CloseButton.Font = Enum.Font.SourceSans
CloseButton.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)

-- Create the WelcomeBanner and add it to the ScreenGui
WelcomeBanner.Parent = ScreenGui
WelcomeBanner.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
WelcomeBanner.Position = UDim2.new(1, 0, 0.5, -25) -- Start off-screen on the right
WelcomeBanner.Size = UDim2.new(0, 200, 0, 50)
WelcomeBanner.AnchorPoint = Vector2.new(1, 0.5) -- Anchor it from the right
local WelcomeText = Instance.new("TextLabel", WelcomeBanner) -- Create the text label inside the banner
WelcomeText.BackgroundTransparency = 1
WelcomeText.Size = UDim2.new(1, 0, 1, 0)
WelcomeText.Font = Enum.Font.SourceSansBold
WelcomeText.Text = "Welcome to ALLO!"
WelcomeText.TextColor3 = Color3.new(1, 1, 1)
WelcomeText.TextScaled = true

-- Create the OpenButton and add it to the ScreenGui
OpenButton.Parent = ScreenGui
OpenButton.BackgroundColor3 = Color3.new(0.8, 0.2, 0.2)
OpenButton.Position = UDim2.new(1, -60, 0.5, -25) -- Start in the same position as the WelcomeBanner
OpenButton.Size = UDim2.new(0, 50, 0, 50)
OpenButton.Text = "Open"
OpenButton.TextColor3 = Color3.new(1, 1, 1)
OpenButton.TextScaled = true
OpenButton.Visible = false -- Initially hidden

-- Function to animate the WelcomeBanner sliding in
local function slideInBanner()
    WelcomeBanner:TweenPosition(UDim2.new(0.75, 0, 0.5, -25), Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.5, true) -- Slide in
end

-- Function to animate the WelcomeBanner sliding out
local function slideOutBanner()
    WelcomeBanner:TweenPosition(UDim2.new(1, 0, 0.5, -25), Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.5, true) -- Slide out
end

-- Function to show the OpenButton
local function showOpenButton()
    OpenButton.Visible = true
end

-- Call the slide in animation
slideInBanner()

-- Event listener for the CloseButton click
CloseButton.MouseButton1Click:Connect(function()
    slideOutBanner() -- Slide out when closing
    wait(0.5) -- Wait for slide out animation to finish
    Frame.Visible = false -- Hide the main frame
    showOpenButton() -- Show the OpenButton
end)

-- Event listener for the OpenButton click
OpenButton.MouseButton1Click:Connect(function()
    Frame.Visible = true -- Show the main frame again
    slideInBanner() -- Slide the banner back in
    OpenButton.Visible = false -- Hide the OpenButton
end)

-- Function to make the OpenButton draggable
local function makeDraggable(button)
    local dragging, dragInput, startPos, startPosButton

    button.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            startPos = button.Position
            startPosButton = input.Position
            
            -- Connect InputChanged to update the button's position while dragging
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    -- Update position of the button while dragging
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - startPosButton
            button.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

-- Make the OpenButton draggable
makeDraggable(OpenButton)

-- Optional: Show ProfilePicture and UsernameLabel after animation
wait(0.5) -- Delay to ensure animation is finished
ProfilePicture.Visible = true
UsernameLabel.Visible = true
